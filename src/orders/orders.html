<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Hared Albancando Robles">
    <meta name="description"
        content="The Travel to Colombia website is a tourism platform that provides packages for exploring Colombia's diverse culture, stunning landscapes, and rich history.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-site-url.netlify.app/package_list/">
    <meta property="og:title" content="Travel Packages - Travel to Colombia">
    <meta property="og:description"
        content="Explore our exclusive travel packages for Colombia including Bogotá, Medellín, and Cartagena destinations.">
    <meta property="og:image" content="../public/images/hero-main.webp">

    <title>My Orders - Travel to Colombia</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../public/images/favicon.ico" type="image/x-icon">
</head>

<body>
    <header class="divider" id="main-header"></header>
    <main>
        <div class="orders-container">
            <h1>My Orders</h1>
            <div id="orders-content">
                <div class="loading">Loading your orders...</div>
            </div>
        </div>
    </main>
    <footer id="main-footer"></footer>
    <script type="module" src="../js/main.js"></script>
    <script src="../js/cart.js"></script>
    <script src="../js/orders.js"></script>
    <script>
        // Simple initialization after all scripts are loaded
        console.log('Orders page scripts loaded');
        
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ready for orders page');
            
            // Import and load header/footer
            import('../js/utils.mjs').then(({ loadHeaderFooter, openLoginModal }) => {
                console.log('Utils imported successfully');
                console.log('loadHeaderFooter function:', typeof loadHeaderFooter);
                
                // Make openLoginModal globally available
                window.openLoginModal = openLoginModal;
                
                // Load header and footer
                console.log('About to call loadHeaderFooter...');
                return loadHeaderFooter();
            }).then(() => {
                console.log('Header and footer loaded successfully!');
                
                // Now render the orders page
                if (typeof renderOrdersPage === 'function') {
                    console.log('Calling renderOrdersPage...');
                    renderOrdersPage();
                } else {
                    console.error('renderOrdersPage function not available');
                }
            }).catch(error => {
                console.error('Error in orders page initialization:', error);
                console.error('Error stack:', error.stack);
                
                // Fallback: try to render orders anyway
                console.log('Attempting fallback rendering...');
                if (typeof renderOrdersPage === 'function') {
                    renderOrdersPage();
                } else {
                    console.error('renderOrdersPage function not available in fallback');
                }
            });
        });
    </script>
</body>

</html>